# Alert for any instance that is unreachable for >5 minutes.
ALERT InstanceDown
  IF probe_success == 0
  FOR 30s
  LABELS { severity = "page" }
  ANNOTATIONS {
    summary = "Instance {{ $labels.instance }} down",
    description = "{{ $labels.instance }} of job {{ $labels.job }} has been down for more than 30 seconds.",
  }

ALERT ClusterDown
  IF absent(probe_success{service=~"failserver"} == 1)
  FOR 20s
  LABELS {
    severity = "page",
    service = "failserver"
  }
  ANNOTATIONS {
    summary = "Service failserver is down",
    description = "failserver service has been down for more than 30 seconds.",
  }

